<div class="box">
    <h3>Bước 3: Đăng xuất (Logout)</h3>
    <button onclick="handleLogout()" style="background: #dc3545;">Đăng xuất</button>
</div>

<script>
    // ... các hàm cũ ...

    async function handleLogout() {
        // 1. Gọi API báo cho Server biết (để Server log lại hoặc xử lý nghiệp vụ phụ)
        try {
            await fetch(`${API_URL}/logout`, { method: 'POST' });
        } catch (e) {
            console.log("Server error", e);
        }

        // 2. QUAN TRỌNG NHẤT: Xóa Token ở Client
        localStorage.removeItem('accessToken');
        
        // 3. Thông báo
        document.getElementById('loginStatus').innerText = 'Đã đăng xuất!';
        document.getElementById('loginStatus').style.color = 'red';
        document.getElementById('resultArea').innerText = '...';
        alert("Đã xóa Token, bạn đã trở về kiếp dân thường!");
    }
</script>